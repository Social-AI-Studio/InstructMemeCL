import os
import json
import scipy.stats as stats

# Example data
fhm_lora = (
    [0.8345521755132739, 0.8321278264070026, 0.8321198252548367, 0.8319678033636844, 0.8300795314525292, 0.8295114496487495, 0.8280632411067194, 0.8278072042374103, 0.8274071466291146, 0.8273911443247827],
    [0.762, 0.76, 0.76, 0.758, 0.758, 0.756, 0.754, 0.752, 0.75, 0.748]
)

fhm_cluster = (
    [0.8481061272823287, 0.8412331375718103, 0.8409450960938376, 0.8370165303803747, 0.8346161847306011, 0.8313837192555728, 0.8304075786913316, 0.8301915475828521, 0.8289753724536333, 0.8255028724136275],
    [0.778, 0.776, 0.772, 0.77, 0.768, 0.768, 0.768, 0.768, 0.764, 0.762]
)

fhm_triplet = (
    [0.8548751020146901, 0.852890816277544, 0.8482821526299787, 0.8439855339168841, 0.8433854475044407, 0.8430413979613065, 0.8371605511193612, 0.8354243010993584, 0.8315677457553888, 0.8305836040389816],
    [0.78, 0.78, 0.778, 0.774, 0.774, 0.772, 0.772, 0.772, 0.772, 0.768]
)

model_a = fhm_lora
model_b = fhm_cluster

# harm_lora = (
#     [0.9218969144460029, 0.9215287517531559, 0.921265778401122, 0.9208976157082749, 0.9203366058906031, 0.9202664796633941, 0.9198281907433379, 0.9193197755960729, 0.9192321178120617, 0.9185133239831698],
#     [0.8757062146892656, 0.8757062146892656, 0.8757062146892656, 0.8728813559322034, 0.8728813559322034, 0.8700564971751412, 0.8700564971751412, 0.8700564971751412, 0.8700564971751412, 0.8700564971751412]
# )

# harm_cluster = (
#     [0.9251402524544179, 0.9241935483870969, 0.9239305750350632, 0.9237552594670406, 0.9219319775596073, 0.9203716690042076, 0.9203366058906032, 0.920108695652174, 0.9198106591865358, 0.9196178120617111],
#     [0.884180790960452, 0.8813559322033898, 0.8813559322033898, 0.8785310734463276, 0.8785310734463276, 0.8757062146892656, 0.8757062146892656, 0.8757062146892656, 0.8728813559322034, 0.8728813559322034]
# )

# harm_triplet = (
#     [0.932906732117812, 0.9321353436185134, 0.9314516129032258, 0.9309256661991585, 0.9308380084151472, 0.9300841514726508, 0.9296984572230014, 0.9292776998597475, 0.929014726507714, 0.9276998597475454],
#     [0.9011299435028248, 0.8983050847457628, 0.8983050847457628, 0.8954802259887006, 0.8926553672316384, 0.8926553672316384, 0.8926553672316384, 0.8898305084745762, 0.8898305084745762, 0.8898305084745762]
# )

# model_a = harm_lora
# model_b = harm_triplet

# mami_lora = (
#     [0.8635353535353536, 0.8608505050505051, 0.8605030303030303, 0.8600727272727273, 0.858240404040404, 0.8579919191919192, 0.856339393939394, 0.8521919191919192, 0.8521656565656566, 0.8506],
#     [0.785929648241206, 0.7819095477386935, 0.7788944723618091, 0.7768844221105528, 0.7748743718592965, 0.7728643216080402, 0.771859296482412, 0.770854271356784, 0.770854271356784, 0.7698492462311558]
# )

# mami_cluster = (
#     [0.863880808080808, 0.8636343434343435, 0.8623979797979797, 0.8603171717171717, 0.8595393939393938, 0.859470707070707, 0.8594080808080807, 0.858030303030303, 0.8564787878787878, 0.8555212121212121],
#     [0.8030150753768844, 0.7959798994974875, 0.7949748743718593, 0.7899497487437186, 0.7809045226130653, 0.7798994974874371, 0.7788944723618091, 0.7778894472361809, 0.7768844221105528, 0.7748743718592965]
# )

# model_a = mami_lora
# model_b = mami_cluster


# Paired t-test
t_stat_auroc, p_value_t_auroc = stats.ttest_rel(model_a[0], model_b[0])
t_stat_acc, p_value_t_acc = stats.ttest_rel(model_a[1], model_b[1])

# Wilcoxon signed-rank test
w_stat_auroc, p_value_w_auroc = stats.wilcoxon(model_a[0], model_b[0])
w_stat_acc, p_value_w_acc = stats.wilcoxon(model_a[1], model_b[1])

p_value_w_auroc = round(p_value_w_auroc, 5)
p_value_w_acc = round(p_value_w_acc, 5)

print("Paired t-test p-value:", p_value_t_auroc, p_value_t_acc)
print("Wilcoxon signed-rank test p-value:", p_value_w_auroc, p_value_w_acc)